
{% load static %} {% block content %}
<!DOCTYPE html>
<html>
<head>
	<title>Profile Card</title>
	<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
</head>
<body class="bg-light">
	<div class="container">
     	<div class="row d-flex justify-content-center">
            <div class="col-md-10 mt-5 pt-5">
             	<div class="row z-depth-3">
                 	<div class="col-sm-4 bg-info rounded-left">
        		        <div class="card-block text-center text-white">
                		  <br>  <i> <img
            width="150px"
            height="150px"
            src="{{ current_user.profile_picutre.url }}"
    /></i>
                    		<h2 class="font-weight-bold mt-4">{{ current_user.first_name }}&nbsp{{ current_user.last_name }} </h2>
                    		<i class="far fa-edit fa-2x mb-4"></i>
                		</div>
            		</div>
            		<div class="col-sm-8 bg-white rounded-right">
                    	<h3 class="mt-3 text-center">Information</h3>
                    	<hr class="bg-primary mt-0 w-25">
                   		<div class="row">
                        	<div class="col-sm-6">
                            	<p class="font-weight-bold">Email:</p>
                           		<h6 class=" text-muted">nick32@gmail.com</h6>
                        	</div>
                        	<div class="col-sm-6">
                            	<p class="font-weight-bold">Phone:</p>
                           		<h6 class="text-muted">+921234567890</h6>
                        	</div>
                    	</div>
                    		<h4 class="mt-3">Projects</h4>
                    		<hr class="bg-primary">
                   		<div class="row">
                        	<div class="col-sm-6">
                           		<p class="font-weight-bold">Recent</p>
                          	  	<h6 class="text-muted">School Web</h6>
                        	</div>
                        	<div class="col-sm-6">
                            	<p class="font-weight-bold">Most Viewed</p>
                            	<h6 class="text-muted">Dinoter husainm</h6>
                        	</div>
                    	</div>
                	   	<hr class="bg-primary">
                	    <ul class="list-unstyled d-flex justify-content-center mt-4">
            	        	<li><a href="#!"><i class="fab fa-facebook-f px-3 h4 text-info"></i></a></li>
        	            	<li><a href="#!"><i class="fab fa-youtube px-3 h4 text-info"></i></a></li>
    	                	<li><a href="#!"><i class="fab fa-twitter px-3 h4 text-info"></i></a></li>
	               		</ul>  
              		</div>
             	</div>
            </div>
        </div>
	</div>
</body>
</html>





    <label>Email</label>
    {{ current_user.email }}<br/>
    <label>Countre</label>
    {{ current_user.country }}<br/><br/>

   

    <label>Moblie Number</label>
    {{ current_user.mobile_phone }}<br/>
    <label>Birth Date</label>
    {{ current_user.birth_date }}<br/><br/><br/>

    <a class="btn btn-info" href="{% url 'change-password' %}">Change Password</a
    ><br/>
    <a class="btn btn-primary" href="{% url 'edit-profile' %}">Edit Profile</a
    ><br/>
    <button
            type="button"
            class="btn btn-danger"
            data-bs-toggle="modal"
            data-bs-target="#deleteAccount"
            data-bs-whatever="test"
    >
        Delete Account
    </button>
    <div
            class="modal fade"
            id="deleteAccount"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteAccount">
                        Deleting Account Confirmation
                    </h5>
                    <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                    ></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label"
                            >Enter Your Password:</label
                            >
                            <input type="password" class="form-control" id="password"/>
                        </div>
                        <div class="mb-3">
                            <div id="errors-message"></div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button
                            id="close-modal"
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                    >
                        Close
                    </button>
                    <button type="button" class="btn btn-danger" onclick="checkPassword()">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
    <form method="post" action="{% url 'delete-account' %}">
        {% csrf_token %}
        <button id="submit-deleteAccount" hidden="hidden" type="submit"></button>
    </form>
    <script>
        function sendAjaxRequestToCheckPassword(password) {
            $.ajax({
                url: "{% url 'check-password' %}",
                type: "get",
                data: {
                    password: password,
                },
                success: function (response) {
                    if (response.isPasswordCorrect == true) {
                        deleteAccount();
                    } else {
                        let error_message_location = document.getElementById(
                            "errors-message"
                        );
                        let error_message = document.createElement("p");
                        error_message.textContent = "Password is not correct !";
                        error_message_location.appendChild(error_message);
                    }
                },
            });
        }

        function checkPassword() {
            let password_field = document.getElementById("password");
            sendAjaxRequestToCheckPassword(password_field.value);
            clearTheModal();
        }

        function clearTheModal() {
            let error_message_location = document.getElementById("errors-message");
            error_message_location.innerHTML = "";
            let password_field = document.getElementById("password");
            password_field.value = "";
        }

        function deleteAccount() {
            let closeModalButton = document.getElementById("close-modal");
            let submitDeleteAccount = document.getElementById("submit-deleteAccount");
            closeModalButton.click();
            submitDeleteAccount.click();
        }

        let modal = document.getElementById("deleteAccount");
        modal.addEventListener("hidden.bs.modal", clearTheModal());
    </script>
    </div>


    <div class="container justify-content-center">
        <div class="container justify-content-center">
            <img src="{% static 'users/icons/project.svg' %}" width="70" class="d-inline"/>
            <h1 class="font-italic d-inline text-center">Your Projects</h1>
        </div>
        <br/><br/>

        {% for project in projects %}

            <div class="card text-center" style="width: 18rem; display: inline-block">
                <img
                        class="card-img-top"
                        src="{{ project.images_set.first.path.url }}"
                        alt="Card image cap"
                />
                <div class="card-body">
                    <h5 class="card-title">{{ project.title }}</h5>
                    <p class="card-text">{{ project.details }}</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Category: </b>{{ project.category }}</li>
                    <li class="list-group-item">
                        <b>Total Target: </b>{{ project.total_target }}
                    </li>
                    <li class="list-group-item"><b>Created At: </b>{{ project.created_at }}</li>
                    <li class="list-group-item"><b>Start Time: </b>{{ project.start_time }}</li>
                    <li class="list-group-item"><b>End Time: </b>{{ project.end_time }}</li>
                </ul>
                <div class="card-body">
                    <a
                            href="{% url 'deleteItem' project.id %}"
                            class="btn btn-danger btn-sm"
                            role="button"
                            style="width: 16px"
                    >x</a
                    >
                </div>
            </div>

        {% endfor %}
        <br/><br/><br/><br/>

        <div class="container align-items-center">
            <img src="{% static 'users/icons/donate.svg' %}" width="70" class="d-inline"/>
            <h1 class="font-italic d-inline">Your Donations</h1>
        </div>
        <br/><br/>

        <table class="table">
            <thead class="thead-dark">
            <tr>
                <th scope="col">Project Name</th>
                <th scope="col">Amount</th>
            </tr>
            </thead>
            <tbody>
            {% for d in donations %}
                <tr>
                    <td>{{ d.project.title }}</td>
                    <td>{{ d.amount }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
 Font Awesome